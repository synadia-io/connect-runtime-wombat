model_version: "1"
label: Pusher
name: pusher
status: experimental
icon: data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9Ii03MCAwIDM5NiAzOTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgogICAgPGc+CiAgICAgICAgPHBhdGggZD0iTTEyNy45OTQ1OTIsMzk0LjU1MDUyNiBMMTI3Ljk5NDU5MiwyOTUuNTAyODg0IEMxMjcuOTk0NTkyLDI5NS4yOTQ5MzEgMTI4LjEwODk2NiwyOTUuMDg2OTc5IDEyOC4zMDY1MiwyOTQuOTgzMDAzIEwyNTUuNjk4MDUxLDIyMS40OTI2ODggQzI1NS44ODg4NTksMjIxLjM5MDQzNSAyNTYuMDA1NTczLDIyMS4xODkyMDUgMjU2LDIyMC45NzI4MDggTDI1NiwxOTIuODE2MDc3IEMyNTYuMDA3Njg0LDE5Mi42MDIwMTQgMjU1Ljg5NzU5MywxOTIuNDAwNzkgMjU1LjcxMjk1MywxOTIuMjkyMTc4IEMyNTUuNTI4MzEzLDE5Mi4xODM1NjYgMjU1LjI5ODk0NywxOTIuMTg1MTEgMjU1LjExNTc4NSwxOTIuMjk2MTk2IEwxMjguODg4Nzg3LDI2NS4xMjEwNjQgQzEyOC43MDU2MjUsMjY1LjIzMjE1MSAxMjguNDc2MjU5LDI2NS4yMzM2OTQgMTI4LjI5MTYxOSwyNjUuMTI1MDgyIEMxMjguMTA2OTc4LDI2NS4wMTY0NyAxMjcuOTk2ODg3LDI2NC44MTUyNDYgMTI4LjAwNDk5LDI2NC42MDExODMgTDEyOC4wMDQ5OSwyMzYuNDIzNjU4IEMxMjguMDA0OTksMjM2LjIxNTcwNSAxMjguMTA4OTY2LDIzNi4wMTgxNTEgMTI4LjI5NjEyMywyMzUuOTE0MTc1IEwyNTUuNjk4MDUxLDE2Mi40MjM4NiBDMjU1Ljg4MjM3OCwxNjIuMzE1MDQgMjU1Ljk5NjY1NSwxNjIuMTE4MDExIDI1NiwxNjEuOTAzOTc5IEwyNTYsMTMzLjc0NzI0OCBDMjU1Ljk5NDgxNCwxMzMuNTM4NTA3IDI1NS44ODI0MSwxMzMuMzQ3MDgzIDI1NS43MDI0NDIsMTMzLjI0MTIxOSBDMjU1LjUyMjQ3MywxMzMuMTM1MzU1IDI1NS4zMDA1NDksMTMzLjEzMDExNSAyNTUuMTE1Nzg1LDEzMy4yMjczNjggTDEyOC44ODg3ODcsMjA2LjA0MTgzOCBDMTI4LjcwNjc0OSwyMDYuMTU3NDczIDEyOC40NzU3MDgsMjA2LjE2MzAyMiAxMjguMjg4MzI5LDIwNi4wNTYyNiBDMTI4LjEwMDk1LDIwNS45NDk0OTcgMTI3Ljk4NzkyNywyMDUuNzQ3OTExIDEyNy45OTQ1OTIsMjA1LjUzMjM1NSBMMTI3Ljk5NDU5MiwxNzcuMzY1MjI3IEMxMjcuOTk0NTkyLDE3Ny4xNTcyNzUgMTI4LjEwODk2NiwxNzYuOTU5NzIgMTI4LjMwNjUyLDE3Ni44NTU3NDQgTDI1NS42OTgwNTEsMTAzLjM5NjYyMiBDMjU1Ljg4NzEzOSwxMDMuMjkyNTk5IDI1Ni4wMDMxODMsMTAzLjA5MjUyNCAyNTYsMTAyLjg3Njc0MSBMMjU2LDc0LjM0NTY5NjUgQzI1NS45ODczMTYsNzMuOTMwMjYzNCAyNTUuNzY5LDczLjU0ODIxMDQgMjU1LjQxNzMxNSw3My4zMjY3MzA2IEwxMjguNTg3MjU2LDAuMTU4NzQxNjYxIEMxMjguMjI0MzE1LC0wLjA1MzMwNzk1ODIgMTI3Ljc3NTI2NiwtMC4wNTMzMDc5NTgyIDEyNy40MTIzMjYsMC4xNTg3NDE2NjEgTDEwMy4yODk4NjgsMTQuMDgxMTQyOSBDMTAzLjEwNDUyNCwxNC4xODM2OTA5IDEwMi45ODk0OSwxNC4zNzg4MDM1IDEwMi45ODk0OSwxNC41OTA2MjU4IEMxMDIuOTg5NDksMTQuODAyNDQ4MSAxMDMuMTA0NTI0LDE0Ljk5NzU2MDcgMTAzLjI4OTg2OCwxNS4xMDAxMDg3IEwyMjkuNTE2ODY2LDg3LjkxNDU3ODkgQzIyOS42OTE0NTMsODguMDI1MTQ2MyAyMjkuNzk3MjY3LDg4LjIxNzQwODcgMjI5Ljc5NzI2Nyw4OC40MjQwNjE5IEMyMjkuNzk3MjY3LDg4LjYzMDcxNSAyMjkuNjkxNDUzLDg4LjgyMjk3NzQgMjI5LjUxNjg2Niw4OC45MzM1NDQ4IEwyMDUuMzk0NDA5LDEwMi44NDU1NDggQzIwNS4wMjQ1MjIsMTAzLjA0NTIwNiAyMDQuNTc4OTY3LDEwMy4wNDUyMDYgMjA0LjIwOTA4MSwxMDIuODQ1NTQ4IEw3Ny4zODk0MTksMjkuNjk4MzU0NyBDNzcuMDAzMzc1MiwyOS40NzU0NzIxIDc2LjUyNzc0OTYsMjkuNDc1NDcyMSA3Ni4xNDE3MDU3LDI5LjY5ODM1NDcgTDUyLjA5MjAzMTQsNDMuNTk5OTYwNiBDNTEuOTA2Njg2OCw0My43MDI1MDg3IDUxLjc5MTY1MzYsNDMuODk3NjIxMiA1MS43OTE2NTM2LDQ0LjEwOTQ0MzYgQzUxLjc5MTY1MzYsNDQuMzIxMjY1OSA1MS45MDY2ODY4LDQ0LjUxNjM3ODUgNTIuMDkyMDMxNCw0NC42MTg5MjY1IEwxNzguMjk4MjM0LDExNy40NDM3OTQgQzE3OC40ODg5MzMsMTE3LjU0NDY3OSAxNzguNjA4MjIsMTE3Ljc0MjczNiAxNzguNjA4MjIsMTE3Ljk1ODQ3NiBDMTc4LjYwODIyLDExOC4xNzQyMTYgMTc4LjQ4ODkzMywxMTguMzcyMjczIDE3OC4yOTgyMzQsMTE4LjQ3MzE1OCBMMTU0LjE3NTc3NywxMzIuMzg1MTYxIEMxNTMuNzg5NzMzLDEzMi42MDgwNDQgMTUzLjMxNDEwNywxMzIuNjA4MDQ0IDE1Mi45MjgwNjMsMTMyLjM4NTE2MSBMMjYuMTkxNTgyMiw1OS4yMTcxNzI0IEMyNS44MDU1Mzg0LDU4Ljk5NDI4OTkgMjUuMzI5OTEyOCw1OC45OTQyODk5IDI0Ljk0Mzg2ODksNTkuMjE3MTcyNCBMMS40MjEwODU0N2UtMTQsNzMuNjQ5MDU2NiBMMS40MjEwODU0N2UtMTQsMzIxLjM5MjkzNSBDMS40MjEwODU0N2UtMTQsMzIxLjYwMDg4NyAwLjEwMzk3NjExLDMyMS44MDg4MzkgMC4zMDE1MzA3MiwzMjEuOTAyNDE4IEwyNC43MTUxMjE1LDMzNS45OTExODEgQzI0Ljg5ODI4MzMsMzM2LjEwMjI2NyAyNS4xMjc2NDk1LDMzNi4xMDM4MTEgMjUuMzEyMjg5NSwzMzUuOTk1MTk5IEMyNS40OTY5Mjk2LDMzNS44ODY1ODcgMjUuNjA3MDIwOCwzMzUuNjg1MzYzIDI1LjU5ODkxODQsMzM1LjQ3MTMgTDI1LjU5ODkxODQsODkuNDUzNDI1NCBDMjUuNTk0NzQ3Niw4OS4yNDEyMTE3IDI1LjcwNjM4NCw4OS4wNDM1NDA1IDI1Ljg5MDI3Miw4OC45Mzc1MzQ2IEMyNi4wNzQxNTk5LDg4LjgzMTUyODYgMjYuMzAxMTYzMyw4OC44MzM5ODM4IDI2LjQ4MjcxNTMsODguOTQzOTQyNCBMNTAuOTE3MTAxMywxMDMuMDMyNzA1IEM1MS4wODM0NjMxLDEwMy4xMzY2ODEgNTEuMTk3ODM2OCwxMDMuMzM0MjM2IDUxLjE5NzgzNjgsMTAzLjU1MjU4NiBMNTEuMTk3ODM2OCwzNTAuOTIyMTUgQzUxLjE5NzgzNjgsMzUxLjEzMDEwMyA1MS4zMDE4MTI5LDM1MS4zMzgwNTUgNTEuNDg4OTY5OSwzNTEuNDQyMDMxIEw3NS45MDI1NjA3LDM2NS41NDExOTIgQzc2LjA4ODc3OTcsMzY1LjY0ODcwNyA3Ni4zMTgxNTkzLDM2NS42NDg5MzYgNzYuNTA0NTkxOSwzNjUuNTQxNzkgQzc2LjY5MTAyNDUsMzY1LjQzNDY0NSA3Ni44MDYzMDMsMzY1LjIzNjMzOCA3Ni44MDcxNTI4LDM2NS4wMjEzMTEgTDc2LjgwNzE1MjgsMTE4Ljk3MjI0MyBDNzYuNzk5MDUwNCwxMTguNzU4MTggNzYuOTA5MTQxNiwxMTguNTU2OTU2IDc3LjA5Mzc4MTcsMTE4LjQ0ODM0NSBDNzcuMjc4NDIxOCwxMTguMzM5NzMzIDc3LjUwNzc4NzksMTE4LjM0MTI3NiA3Ny42OTA5NDk4LDExOC40NTIzNjMgTDEwMi4xMDQ1NDEsMTMyLjUzMDcyOCBDMTAyLjI5MTY5OCwxMzIuNjM0NzA0IDEwMi40MDYwNzEsMTMyLjg0MjY1NiAxMDIuNDA2MDcxLDEzMy4wNTA2MDggTDEwMi40MDYwNzEsMzgwLjQ2MTc2MyBDMTAyLjQwNjA3MSwzODAuNjY5NzE2IDEwMi41MTAwNDcsMzgwLjg2NzI3IDEwMi42ODY4MDcsMzgwLjk4MTY0NCBMMTI3LjE3MzE4MSwzOTUuMDQ5NjEyIEMxMjcuMzUwOTI4LDM5NS4xMzQwMjEgMTI3LjU1OTI4NCwzOTUuMTIyOTQ3IDEyNy43MjcwODIsMzk1LjAyMDE3IEMxMjcuODk0ODgsMzk0LjkxNzM5NCAxMjcuOTk5NDE4LDM5NC43MzY4MjIgMTI4LjAwNDk5LDM5NC41NDAxMjkgTDEyNy45OTQ1OTIsMzk0LjU1MDUyNiBMMTI3Ljk5NDU5MiwzOTQuNTUwNTI2IFoiIGZpbGw9IiMzMDBENEYiPgoKPC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=
description: |-
  Output for publishing messages to Pusher API (https://pusher.com)
fields:
  - path: batching
    name: batching
    label: Batching
    kind: scalar
    type: object
    optional: false
    examples:
      - byte_size: 5000
        count: 0
        period: 1s
      - count: 10
        period: 1s
      - check: this.contains("END BATCH")
        count: 0
        period: 1m
    description: |-
      maximum batch size is 10 (limit of the pusher library)
    fields:
      - path: batching.count
        name: count
        label: count
        kind: scalar
        type: int
        default: "0"
        optional: true
        description: |-
          A number of messages at which the batch should be flushed. If `0` disables count based batching.
      - path: batching.byte_size
        name: byte_size
        label: byte_size
        kind: scalar
        type: int
        default: "0"
        optional: true
        description: |-
          An amount of bytes at which the batch should be flushed. If `0` disables size based batching.
      - path: batching.period
        name: period
        label: period
        kind: scalar
        type: string
        default: '""'
        optional: true
        examples:
          - 1s
          - 1m
          - 500ms
        description: |-
          A period in which an incomplete batch should be flushed regardless of its size.
      - path: batching.check
        name: check
        label: check
        kind: scalar
        type: string
        default: '""'
        optional: true
        examples:
          - this.type == "end_of_transaction"
        description: |-
          A [Bloblang query](https://wombat.dev/pipelines/learn/interpolation/#bloblang-queries) that should return a boolean value indicating whether a message should end a batch.
  - path: channel
    name: channel
    label: Channel
    kind: scalar
    type: string
    optional: false
    examples:
      - my_channel
      - ${!json("id")}
    description: |-
      Pusher channel to publish to. Interpolation functions can also be used
  - path: event
    name: event
    label: Event
    kind: scalar
    type: string
    optional: false
    description: |-
      Event to publish to
  - path: appId
    name: appId
    label: Application ID
    kind: scalar
    type: string
    optional: false
    description: |-
      Pusher app id
  - path: key
    name: key
    label: Key
    kind: scalar
    type: string
    optional: false
    description: |-
      Pusher key
  - path: secret
    name: secret
    label: Secret
    kind: scalar
    type: string
    optional: false
    description: |-
      Pusher secret
  - path: cluster
    name: cluster
    label: Cluster
    kind: scalar
    type: string
    optional: false
    description: |-
      Pusher cluster
  - path: secure
    name: secure
    label: Secure
    kind: scalar
    type: bool
    default: "true"
    optional: true
    description: |-
      Enable SSL encryption
  - path: max_in_flight
    name: max_in_flight
    label: Max In Flight
    kind: scalar
    type: int
    default: "1"
    optional: true
    description: |-
      The maximum number of parallel message batches to have in flight at any given time.
