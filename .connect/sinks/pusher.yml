model_version: "1"
label: Pusher
name: pusher
kind: sink
status: experimental
icon: data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSItNzAgMCAzOTYgMzk2IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBmaWxsPSIjZmZmZmZmIj48ZyBpZD0iU1ZHUmVwb19iZ0NhcnJpZXIiIHN0cm9rZS13aWR0aD0iMCI+PC9nPjxnIGlkPSJTVkdSZXBvX3RyYWNlckNhcnJpZXIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PC9nPjxnIGlkPSJTVkdSZXBvX2ljb25DYXJyaWVyIj4gPGc+IDxwYXRoIGQ9Ik0xMjcuOTk0NTkyLDM5NC41NTA1MjYgTDEyNy45OTQ1OTIsMjk1LjUwMjg4NCBDMTI3Ljk5NDU5MiwyOTUuMjk0OTMxIDEyOC4xMDg5NjYsMjk1LjA4Njk3OSAxMjguMzA2NTIsMjk0Ljk4MzAwMyBMMjU1LjY5ODA1MSwyMjEuNDkyNjg4IEMyNTUuODg4ODU5LDIyMS4zOTA0MzUgMjU2LjAwNTU3MywyMjEuMTg5MjA1IDI1NiwyMjAuOTcyODA4IEwyNTYsMTkyLjgxNjA3NyBDMjU2LjAwNzY4NCwxOTIuNjAyMDE0IDI1NS44OTc1OTMsMTkyLjQwMDc5IDI1NS43MTI5NTMsMTkyLjI5MjE3OCBDMjU1LjUyODMxMywxOTIuMTgzNTY2IDI1NS4yOTg5NDcsMTkyLjE4NTExIDI1NS4xMTU3ODUsMTkyLjI5NjE5NiBMMTI4Ljg4ODc4NywyNjUuMTIxMDY0IEMxMjguNzA1NjI1LDI2NS4yMzIxNTEgMTI4LjQ3NjI1OSwyNjUuMjMzNjk0IDEyOC4yOTE2MTksMjY1LjEyNTA4MiBDMTI4LjEwNjk3OCwyNjUuMDE2NDcgMTI3Ljk5Njg4NywyNjQuODE1MjQ2IDEyOC4wMDQ5OSwyNjQuNjAxMTgzIEwxMjguMDA0OTksMjM2LjQyMzY1OCBDMTI4LjAwNDk5LDIzNi4yMTU3MDUgMTI4LjEwODk2NiwyMzYuMDE4MTUxIDEyOC4yOTYxMjMsMjM1LjkxNDE3NSBMMjU1LjY5ODA1MSwxNjIuNDIzODYgQzI1NS44ODIzNzgsMTYyLjMxNTA0IDI1NS45OTY2NTUsMTYyLjExODAxMSAyNTYsMTYxLjkwMzk3OSBMMjU2LDEzMy43NDcyNDggQzI1NS45OTQ4MTQsMTMzLjUzODUwNyAyNTUuODgyNDEsMTMzLjM0NzA4MyAyNTUuNzAyNDQyLDEzMy4yNDEyMTkgQzI1NS41MjI0NzMsMTMzLjEzNTM1NSAyNTUuMzAwNTQ5LDEzMy4xMzAxMTUgMjU1LjExNTc4NSwxMzMuMjI3MzY4IEwxMjguODg4Nzg3LDIwNi4wNDE4MzggQzEyOC43MDY3NDksMjA2LjE1NzQ3MyAxMjguNDc1NzA4LDIwNi4xNjMwMjIgMTI4LjI4ODMyOSwyMDYuMDU2MjYgQzEyOC4xMDA5NSwyMDUuOTQ5NDk3IDEyNy45ODc5MjcsMjA1Ljc0NzkxMSAxMjcuOTk0NTkyLDIwNS41MzIzNTUgTDEyNy45OTQ1OTIsMTc3LjM2NTIyNyBDMTI3Ljk5NDU5MiwxNzcuMTU3Mjc1IDEyOC4xMDg5NjYsMTc2Ljk1OTcyIDEyOC4zMDY1MiwxNzYuODU1NzQ0IEwyNTUuNjk4MDUxLDEwMy4zOTY2MjIgQzI1NS44ODcxMzksMTAzLjI5MjU5OSAyNTYuMDAzMTgzLDEwMy4wOTI1MjQgMjU2LDEwMi44NzY3NDEgTDI1Niw3NC4zNDU2OTY1IEMyNTUuOTg3MzE2LDczLjkzMDI2MzQgMjU1Ljc2OSw3My41NDgyMTA0IDI1NS40MTczMTUsNzMuMzI2NzMwNiBMMTI4LjU4NzI1NiwwLjE1ODc0MTY2MSBDMTI4LjIyNDMxNSwtMC4wNTMzMDc5NTgyIDEyNy43NzUyNjYsLTAuMDUzMzA3OTU4MiAxMjcuNDEyMzI2LDAuMTU4NzQxNjYxIEwxMDMuMjg5ODY4LDE0LjA4MTE0MjkgQzEwMy4xMDQ1MjQsMTQuMTgzNjkwOSAxMDIuOTg5NDksMTQuMzc4ODAzNSAxMDIuOTg5NDksMTQuNTkwNjI1OCBDMTAyLjk4OTQ5LDE0LjgwMjQ0ODEgMTAzLjEwNDUyNCwxNC45OTc1NjA3IDEwMy4yODk4NjgsMTUuMTAwMTA4NyBMMjI5LjUxNjg2Niw4Ny45MTQ1Nzg5IEMyMjkuNjkxNDUzLDg4LjAyNTE0NjMgMjI5Ljc5NzI2Nyw4OC4yMTc0MDg3IDIyOS43OTcyNjcsODguNDI0MDYxOSBDMjI5Ljc5NzI2Nyw4OC42MzA3MTUgMjI5LjY5MTQ1Myw4OC44MjI5Nzc0IDIyOS41MTY4NjYsODguOTMzNTQ0OCBMMjA1LjM5NDQwOSwxMDIuODQ1NTQ4IEMyMDUuMDI0NTIyLDEwMy4wNDUyMDYgMjA0LjU3ODk2NywxMDMuMDQ1MjA2IDIwNC4yMDkwODEsMTAyLjg0NTU0OCBMNzcuMzg5NDE5LDI5LjY5ODM1NDcgQzc3LjAwMzM3NTIsMjkuNDc1NDcyMSA3Ni41Mjc3NDk2LDI5LjQ3NTQ3MjEgNzYuMTQxNzA1NywyOS42OTgzNTQ3IEw1Mi4wOTIwMzE0LDQzLjU5OTk2MDYgQzUxLjkwNjY4NjgsNDMuNzAyNTA4NyA1MS43OTE2NTM2LDQzLjg5NzYyMTIgNTEuNzkxNjUzNiw0NC4xMDk0NDM2IEM1MS43OTE2NTM2LDQ0LjMyMTI2NTkgNTEuOTA2Njg2OCw0NC41MTYzNzg1IDUyLjA5MjAzMTQsNDQuNjE4OTI2NSBMMTc4LjI5ODIzNCwxMTcuNDQzNzk0IEMxNzguNDg4OTMzLDExNy41NDQ2NzkgMTc4LjYwODIyLDExNy43NDI3MzYgMTc4LjYwODIyLDExNy45NTg0NzYgQzE3OC42MDgyMiwxMTguMTc0MjE2IDE3OC40ODg5MzMsMTE4LjM3MjI3MyAxNzguMjk4MjM0LDExOC40NzMxNTggTDE1NC4xNzU3NzcsMTMyLjM4NTE2MSBDMTUzLjc4OTczMywxMzIuNjA4MDQ0IDE1My4zMTQxMDcsMTMyLjYwODA0NCAxNTIuOTI4MDYzLDEzMi4zODUxNjEgTDI2LjE5MTU4MjIsNTkuMjE3MTcyNCBDMjUuODA1NTM4NCw1OC45OTQyODk5IDI1LjMyOTkxMjgsNTguOTk0Mjg5OSAyNC45NDM4Njg5LDU5LjIxNzE3MjQgTDEuNDIxMDg1NDdlLTE0LDczLjY0OTA1NjYgTDEuNDIxMDg1NDdlLTE0LDMyMS4zOTI5MzUgQzEuNDIxMDg1NDdlLTE0LDMyMS42MDA4ODcgMC4xMDM5NzYxMSwzMjEuODA4ODM5IDAuMzAxNTMwNzIsMzIxLjkwMjQxOCBMMjQuNzE1MTIxNSwzMzUuOTkxMTgxIEMyNC44OTgyODMzLDMzNi4xMDIyNjcgMjUuMTI3NjQ5NSwzMzYuMTAzODExIDI1LjMxMjI4OTUsMzM1Ljk5NTE5OSBDMjUuNDk2OTI5NiwzMzUuODg2NTg3IDI1LjYwNzAyMDgsMzM1LjY4NTM2MyAyNS41OTg5MTg0LDMzNS40NzEzIEwyNS41OTg5MTg0LDg5LjQ1MzQyNTQgQzI1LjU5NDc0NzYsODkuMjQxMjExNyAyNS43MDYzODQsODkuMDQzNTQwNSAyNS44OTAyNzIsODguOTM3NTM0NiBDMjYuMDc0MTU5OSw4OC44MzE1Mjg2IDI2LjMwMTE2MzMsODguODMzOTgzOCAyNi40ODI3MTUzLDg4Ljk0Mzk0MjQgTDUwLjkxNzEwMTMsMTAzLjAzMjcwNSBDNTEuMDgzNDYzMSwxMDMuMTM2NjgxIDUxLjE5NzgzNjgsMTAzLjMzNDIzNiA1MS4xOTc4MzY4LDEwMy41NTI1ODYgTDUxLjE5NzgzNjgsMzUwLjkyMjE1IEM1MS4xOTc4MzY4LDM1MS4xMzAxMDMgNTEuMzAxODEyOSwzNTEuMzM4MDU1IDUxLjQ4ODk2OTksMzUxLjQ0MjAzMSBMNzUuOTAyNTYwNywzNjUuNTQxMTkyIEM3Ni4wODg3Nzk3LDM2NS42NDg3MDcgNzYuMzE4MTU5MywzNjUuNjQ4OTM2IDc2LjUwNDU5MTksMzY1LjU0MTc5IEM3Ni42OTEwMjQ1LDM2NS40MzQ2NDUgNzYuODA2MzAzLDM2NS4yMzYzMzggNzYuODA3MTUyOCwzNjUuMDIxMzExIEw3Ni44MDcxNTI4LDExOC45NzIyNDMgQzc2Ljc5OTA1MDQsMTE4Ljc1ODE4IDc2LjkwOTE0MTYsMTE4LjU1Njk1NiA3Ny4wOTM3ODE3LDExOC40NDgzNDUgQzc3LjI3ODQyMTgsMTE4LjMzOTczMyA3Ny41MDc3ODc5LDExOC4zNDEyNzYgNzcuNjkwOTQ5OCwxMTguNDUyMzYzIEwxMDIuMTA0NTQxLDEzMi41MzA3MjggQzEwMi4yOTE2OTgsMTMyLjYzNDcwNCAxMDIuNDA2MDcxLDEzMi44NDI2NTYgMTAyLjQwNjA3MSwxMzMuMDUwNjA4IEwxMDIuNDA2MDcxLDM4MC40NjE3NjMgQzEwMi40MDYwNzEsMzgwLjY2OTcxNiAxMDIuNTEwMDQ3LDM4MC44NjcyNyAxMDIuNjg2ODA3LDM4MC45ODE2NDQgTDEyNy4xNzMxODEsMzk1LjA0OTYxMiBDMTI3LjM1MDkyOCwzOTUuMTM0MDIxIDEyNy41NTkyODQsMzk1LjEyMjk0NyAxMjcuNzI3MDgyLDM5NS4wMjAxNyBDMTI3Ljg5NDg4LDM5NC45MTczOTQgMTI3Ljk5OTQxOCwzOTQuNzM2ODIyIDEyOC4wMDQ5OSwzOTQuNTQwMTI5IEwxMjcuOTk0NTkyLDM5NC41NTA1MjYgTDEyNy45OTQ1OTIsMzk0LjU1MDUyNiBaIiBmaWxsPSIjYzBiNGNiIj4gPC9wYXRoPiA8L2c+IDwvZz48L3N2Zz4=
description: |-
  Output for publishing messages to Pusher API (https://pusher.com)
fields:
  - path: batching
    name: batching
    label: Batching
    kind: scalar
    type: object
    optional: false
    examples:
      - byte_size: 5000
        count: 0
        period: 1s
      - count: 10
        period: 1s
      - check: this.contains("END BATCH")
        count: 0
        period: 1m
    description: |-
      maximum batch size is 10 (limit of the pusher library)
    fields:
      - path: batching.count
        name: count
        label: Count
        kind: scalar
        type: int
        default: 0
        optional: true
        description: |-
          A number of messages at which the batch should be flushed. If `0` disables count based batching.
      - path: batching.byte_size
        name: byte_size
        label: Byte Size
        kind: scalar
        type: int
        default: 0
        optional: true
        description: |-
          An amount of bytes at which the batch should be flushed. If `0` disables size based batching.
      - path: batching.period
        name: period
        label: Period
        kind: scalar
        type: string
        default: ""
        optional: true
        examples:
          - 1s
          - 1m
          - 500ms
        description: |-
          A period in which an incomplete batch should be flushed regardless of its size.
      - path: batching.check
        name: check
        label: Check
        kind: scalar
        type: string
        default: ""
        optional: true
        examples:
          - this.type == "end_of_transaction"
        description: |-
          A [Bloblang query](https://wombat.dev/pipelines/learn/interpolation/#bloblang-queries) that should return a boolean value indicating whether a message should end a batch.
  - path: channel
    name: channel
    label: Channel
    kind: scalar
    type: string
    optional: false
    examples:
      - my_channel
      - ${!json("id")}
    description: |-
      Pusher channel to publish to. Interpolation functions can also be used
  - path: event
    name: event
    label: Event
    kind: scalar
    type: string
    optional: false
    description: |-
      Event to publish to
  - path: appId
    name: appId
    label: Application ID
    kind: scalar
    type: string
    optional: false
    description: |-
      Pusher app id
  - path: key
    name: key
    label: Key
    kind: scalar
    type: string
    optional: false
    description: |-
      Pusher key
  - path: secret
    name: secret
    label: Secret
    kind: scalar
    type: string
    optional: false
    description: |-
      Pusher secret
  - path: cluster
    name: cluster
    label: Cluster
    kind: scalar
    type: string
    optional: false
    description: |-
      Pusher cluster
  - path: secure
    name: secure
    label: Secure
    kind: scalar
    type: bool
    default: true
    optional: true
    description: |-
      Enable SSL encryption
  - path: max_in_flight
    name: max_in_flight
    label: Max In Flight
    kind: scalar
    type: int
    default: 1
    optional: true
    description: |-
      The maximum number of parallel message batches to have in flight at any given time.
