model_version: '1'
label: Splunk
name: splunk_hec
status: experimental
description: |-
  Writes messages to a Splunk HTTP Endpoint Collector.
    
    This output POSTs messages to a Splunk HTTP Endpoint Collector (HEC) using token based authentication. The format of the message must be a [valid event JSON](https://docs.splunk.com/Documentation/SplunkCloud/latest/Data/FormateventsforHTTPEventCollector). Raw is not supported.
fields:
  - path: url
    name: url
    label: URL
    kind: scalar
    type: string
    optional: false
    description: |-
      Full HTTP Endpoint Collector (HEC) URL, ie. https://foobar.splunkcloud.com/services/collector/event
  - path: token
    name: token
    label: Token
    kind: scalar
    type: string
    optional: false
    description: |-
      A bot token used for authentication.
  - path: gzip
    name: gzip
    label: Gzip
    kind: scalar
    type: bool
    default: 'false'
    optional: true
    description: |-
      Enable gzip compression
  - path: event_host
    name: event_host
    label: Event_host
    kind: scalar
    type: string
    default: '""'
    optional: true
    description: |-
      Set the host value to assign to the event data. Overrides existing host field if present.
  - path: event_source
    name: event_source
    label: Event_source
    kind: scalar
    type: string
    default: '""'
    optional: true
    description: |-
      Set the source value to assign to the event data. Overrides existing source field if present.
  - path: event_sourcetype
    name: event_sourcetype
    label: Event_sourcetype
    kind: scalar
    type: string
    default: '""'
    optional: true
    description: |-
      Set the sourcetype value to assign to the event data. Overrides existing sourcetype field if present.
  - path: event_index
    name: event_index
    label: Event_index
    kind: scalar
    type: string
    default: '""'
    optional: true
    description: |-
      Set the index value to assign to the event data. Overrides existing index field if present.
  - path: batching_count
    name: batching_count
    label: Batching Count
    kind: scalar
    type: int
    default: '100'
    optional: true
    description: |-
      A number of messages at which the batch should be flushed. If 0 disables count based batching.
  - path: batching_period
    name: batching_period
    label: Batching Period
    kind: scalar
    type: string
    default: '"30s"'
    optional: true
    description: |-
      A period in which an incomplete batch should be flushed regardless of its size.
  - path: batching_byte_size
    name: batching_byte_size
    label: Batching Byte Size
    kind: scalar
    type: int
    default: '1000000'
    optional: true
    description: |-
      An amount of bytes at which the batch should be flushed. If 0 disables size based batching. Splunk Cloud recommends limiting content length of HEC payload to 1 MB.
  - path: rate_limit
    name: rate_limit
    label: Rate Limit
    kind: scalar
    type: string
    default: '""'
    optional: true
    description: |-
      An optional rate limit resource to restrict API requests with.
  - path: max_in_flight
    name: max_in_flight
    label: Max In Flight
    kind: scalar
    type: int
    default: '64'
    optional: true
    description: |-
      The maximum number of parallel message batches to have in flight at any given time.
  - path: skip_cert_verify
    name: skip_cert_verify
    label: Skip Cert Verify
    kind: scalar
    type: bool
    default: 'false'
    optional: true
    description: |-
      Whether to skip server side certificate verification.
