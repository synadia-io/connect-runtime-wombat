model_version: "1"
name: aws_sqs
label: AWS SQS
kind: source
status: stable
description: >-
  Consume messages from an AWS SQS URL.
fields:
  - path: url
    name: url
    label: URL
    type: string
    description: >-
      The SQS URL to consume from.

  - path: delete_message
    name: delete_message
    label: Delete Message
    type: bool
    description: >-
      Whether to delete the consumed message once it is acked. Disabling
      allows you to handle the deletion using a different mechanism.

  - path: reset_visibility
    name: reset_visibility
    label: Reset Visibility
    type: bool
    description: >-
      Whether to set the visibility timeout of the consumed message to zero
      once it is nacked. Disabling honors the preset visibility timeout specified for
      the queue.

  - path: max_number_of_messages
    name: max_number_of_messages
    label: Max Number of Messages
    type: int
    description: >-
      The maximum number of messages to return on one poll. Valid values: 1 to 10.

  - path: wait_time_seconds
    name: wait_time_seconds
    label: Wait Time Seconds
    type: int
    description: >-
      Whether to set the wait time. Enabling this activates long-polling.
      Valid values: 0 to 20.

  - path: region
    name: region
    label: Region
    type: string
    description: >-
      The AWS region to target.

  - path: endpoint
    name: endpoint
    label: Endpoint
    type: string
    description: >-
      Allows you to specify a custom endpoint for the AWS API.

  - path: credentials
    name: credentials
    label: Credentials
    type: object
    optional: true
    description: >-
      Optional manual configuration of AWS credentials to use. More information
      can be found in xref:guides:cloud/aws.adoc[].
    fields:
      - path: credentials.profile
        name: profile
        label: Profile
        type: string
        description: >-
          A profile from `~/.aws/credentials` to use.
      - path: credentials.id
        name: id
        label: ID
        type: string
        description: >-
          The ID of credentials to use.
      - path: credentials.secret
        name: secret
        label: Secret
        type: string
        description: >-
          The secret for the credentials being used.
      - path: credentials.token
        name: token
        label: Token
        type: string
        description: >-
          The token for the credentials being used, required when using short
          term credentials.
      - path: credentials.from_ec2_role
        name: from_ec2_role
        label: From EC2 Role
        type: bool
        description: >-
          Use the credentials of a host EC2 machine configured to assume https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2.html[an
          IAM role associated with the instance^].
      - path: credentials.role
        name: role
        label: Role
        type: string
        description: >-
          A role ARN to assume.
      - path: credentials.role_external_id
        name: role_external_id
        label: Role External ID
        type: string
        description: >-
          An external ID to provide when assuming a role.
